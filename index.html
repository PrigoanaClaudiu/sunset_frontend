<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="./images/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <title>Cabana Sunset</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/review.css">
    <link rel="stylesheet" href="./css/reviewAll.css"> <!-- Adaugă acest link -->
</head>
<body>
    <div id="header-container"></div>
    
    <main>
        <div class="content-container">
            <!-- Slideshow and Welcome Message -->
            <div class="slideshow-container">
                <div class="mySlides fade">
                    <img src="./images/1.jpeg" style="width:100%">
                </div>
                <div class="mySlides fade">
                    <img src="./images/2.jpeg" style="width:100%">
                </div>
                <div class="mySlides fade">
                    <img src="./images/3.jpeg" style="width:100%">
                </div>
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
            <div class="info-box">
                <h2>Bine ai venit!</h2>
                <p>Cabana Sunset este situată într-o zonă pitorească, oferind o priveliște minunată asupra naturii înconjurătoare.</p>
                <p>Este locul ideal pentru a vă relaxa și a petrece timp de calitate cu familia și prietenii.</p>
            </div>
        </div>
        <!-- Review Section -->
            <div id="review-section" class="review-container">
                <!-- Content will be dynamically loaded here -->
            </div>
        </div>

        <div id="all-reviews-container">
            <div id="filter-container">
                <button class="filter-button" data-rating="1">1 Star</button>
                <button class="filter-button" data-rating="2">2 Stars</button>
                <button class="filter-button" data-rating="3">3 Stars</button>
                <button class="filter-button" data-rating="4">4 Stars</button>
                <button class="filter-button" data-rating="5">5 Stars</button>
                <button class="filter-button" data-rating="all">All</button>
            </div>
            
            <div id="reviews-grid">
                <!-- Review-urile vor fi afișate aici -->
            </div>
        
            <div id="navigation">
                <button id="prev-button">&#10094; Previous</button>
                <button id="next-button">Next &#10095;</button>
            </div>
        </div>
    <script>
        fetch('/sunset_frontend/pages/header.html')
            .then(response => response.text())
            .then(data => {
            document.getElementById('header-container').innerHTML = data;
        
            // Generate a unique URL for auth.js to prevent caching
            var timestamp = new Date().getTime();
            var authScript = document.createElement('script');
            authScript.src = '/sunset_frontend/js/auth.js?v=' + timestamp;
            authScript.onload = function() {
                    updateAuthButton();  // Call this function after auth.js is loaded
                    loadReviewSection();  // Load the review section after auth.js is loaded
                };
                document.body.appendChild(authScript);
            })
            .catch(error => console.error('Error loading header:', error));
    </script>
        
    <script src="/sunset_frontend/js/script.js"></script>
    <script src="/sunset_frontend/js/review.js"></script>
    <script src="/sunset_frontend/js/reviewAll.js"></script> 
</body>
</html>